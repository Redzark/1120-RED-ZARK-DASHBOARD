<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1120 Server KvK Timeline</title>
    <style>
        /* ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼ (RoK í…Œë§ˆ) */
        :root {
            --bg-color: #0f1219;
            --card-bg: #1e2330;
            --text-primary: #f0f0f0;
            --text-secondary: #a0a5b9;
            --accent: #ffb347; /* ê³¨ë“œ */
            --ruins: #4fc3f7; /* íí—ˆ ìƒ‰ìƒ */
            --altar: #ba68c8; /* ì œë‹¨ ìƒ‰ìƒ */
            --war: #e57373; /* ì „ìŸ/ê´€ë¬¸ ìƒ‰ìƒ */
        }
        body {
            font-family: 'Segoe UI', 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        h1 { margin-bottom: 5px; color: var(--accent); }
        .sub-title { font-size: 0.9em; color: var(--text-secondary); margin-bottom: 30px; }
        
        .timeline-container {
            max-width: 700px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .event-card {
            background-color: var(--card-bg);
            border-left: 5px solid #555;
            border-radius: 8px;
            padding: 15px;
            text-align: left;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
        }

        /* ìƒíƒœë³„ ìŠ¤íƒ€ì¼ */
        .event-card.active { border-left-color: #00e676; background-color: #252b3b; box-shadow: 0 0 15px rgba(0, 230, 118, 0.2); }
        .event-card.past { opacity: 0.6; filter: grayscale(0.5); }
        .event-card.type-ruins { border-left-color: var(--ruins); }
        .event-card.type-altar { border-left-color: var(--altar); }
        .event-card.type-war { border-left-color: var(--war); }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .event-name { font-size: 1.1em; font-weight: bold; }
        .event-name span { display: block; font-size: 0.8em; color: var(--text-secondary); font-weight: normal; }
        
        .d-day-badge {
            background: #333;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
            white-space: nowrap;
        }
        .active .d-day-badge { background: #00e676; color: #000; }

        .time-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            font-size: 0.9em;
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 5px;
        }
        .time-box { display: flex; flex-direction: column; }
        .time-label { font-size: 0.75em; color: var(--text-secondary); margin-bottom: 2px; }
        .time-value { font-family: 'Consolas', monospace; letter-spacing: 0.5px; }

        /* ëª¨ë°”ì¼ ëŒ€ì‘ */
        @media (max-width: 500px) {
            .time-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <h1>âš”ï¸ 1120 LvD Timeline âš”ï¸</h1>
    <div class="sub-title">Global Schedule (KST & UTC)</div>

    <div class="timeline-container" id="timeline">
        </div>

    <script>
        // =========================================================
        // ğŸ‘‡ [ì„¤ì • êµ¬ì—­] ì—¬ê¸° ë‚ ì§œë“¤ë§Œ ìˆ˜ì •í•˜ì„¸ìš”! (í˜•ì‹: YYYY-MM-DDTHH:mm:00)
        // =========================================================
        const config = {
            // 1. ì£¼ìš” ê³ ì • ì´ë²¤íŠ¸ (ê´€ë¬¸ ë“±)
            staticEvents: [
                { titleKr: "ìƒì–´ë²„ë¦° ì™•êµ­ ì˜¤í”ˆ", titleEn: "Lost Kingdom Open", date: "2025-12-09T09:00:00", type: "war" },
                { titleKr: "4ë ˆë²¨ ê´€ë¬¸ ì˜¤í”ˆ", titleEn: "Level 4 Pass Open", date: "2025-12-13T12:00:00", type: "war" },
                { titleKr: "5ë ˆë²¨ ê´€ë¬¸ ì˜¤í”ˆ", titleEn: "Level 5 Pass Open", date: "2025-12-27T12:00:00", type: "war" },
                { titleKr: "í‚¹ìŠ¤ëœë“œ (7ë ˆë²¨ ê´€ë¬¸)", titleEn: "Kingsland (Lv.7 Pass)", date: "2026-01-08T12:00:00", type: "war" },
                { titleKr: "KvK ì‹œì¦Œ ì¢…ë£Œ", titleEn: "Season End", date: "2026-01-28T09:00:00", type: "war" }
            ],

            // 2. íí—ˆ (Ruins) ì„¤ì •
            ruins: {
                firstDate: "2025-12-17T09:00:00", // âš ï¸ ì²« ë²ˆì§¸ íí—ˆê°€ ì—´ë¦¬ëŠ” ì‹œê°„
                intervalHours: 40,                // 40ì‹œê°„ ê°„ê²©
                count: 28                         // ì´ 28íšŒ
            },

            // 3. ì œë‹¨ (Altar) ì„¤ì •
            altar: {
                firstDate: "2025-12-20T09:00:00", // âš ï¸ ì²« ë²ˆì§¸ ì œë‹¨ì´ ì—´ë¦¬ëŠ” ì‹œê°„
                intervalHours: 86,                // 86ì‹œê°„ ê°„ê²©
                count: 10                         // ì´ 10íšŒ
            }
        };
        // =========================================================


        // ë‚ ì§œ í¬ë§·íŒ… í•¨ìˆ˜ (KST/UTC)
        function formatDate(dateObj, timeZone) {
            return dateObj.toLocaleString('en-US', {
                timeZone: timeZone,
                month: 'short', day: 'numeric',
                hour: '2-digit', minute: '2-digit', hour12: false
            });
        }

        // ì „ì²´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤íŠ¸ ìƒì„± í•¨ìˆ˜
        function generateEvents() {
            let allEvents = [...config.staticEvents];

            // íí—ˆ ìë™ ìƒì„±
            const ruinsStart = new Date(config.ruins.firstDate);
            for (let i = 0; i < config.ruins.count; i++) {
                const eventDate = new Date(ruinsStart.getTime() + (i * config.ruins.intervalHours * 60 * 60 * 1000));
                allEvents.push({
                    titleKr: `ê³ ëŒ€ ìœ ì  (íí—ˆ) #${i + 1}`,
                    titleEn: `Ancient Ruins #${i + 1}`,
                    date: eventDate.toISOString(),
                    type: "ruins"
                });
            }

            // ì œë‹¨ ìë™ ìƒì„±
            const altarStart = new Date(config.altar.firstDate);
            for (let i = 0; i < config.altar.count; i++) {
                const eventDate = new Date(altarStart.getTime() + (i * config.altar.intervalHours * 60 * 60 * 1000));
                allEvents.push({
                    titleKr: `ì–´ë‘ ì˜ ì œë‹¨ #${i + 1}`,
                    titleEn: `Dark Altar #${i + 1}`,
                    date: eventDate.toISOString(),
                    type: "altar"
                });
            }

            // ë‚ ì§œìˆœ ì •ë ¬
            allEvents.sort((a, b) => new Date(a.date) - new Date(b.date));
            return allEvents;
        }

        function renderTimeline() {
            const container = document.getElementById('timeline');
            container.innerHTML = '';
            const events = generateEvents();
            const now = new Date();

            events.forEach(event => {
                const eventDate = new Date(event.date);
                const diffMS = eventDate - now;
                
                // ìƒíƒœ ê²°ì •
                let statusClass = "";
                let badgeText = "";
                let isActive = false;

                if (diffMS < -3600000 * 4) { // 4ì‹œê°„ ì´ìƒ ì§€ë‚¨ -> ì™„ë£Œ
                    statusClass = "past";
                    badgeText = "Finished (ì¢…ë£Œ)";
                } else if (diffMS < 0) { // ì§€ê¸ˆ ì§„í–‰ì¤‘ (0 ~ 4ì‹œê°„)
                    statusClass = "active";
                    badgeText = "Now Open! (ì§„í–‰ì¤‘)";
                    isActive = true;
                } else { // ë¯¸ë˜
                    const diffHours = Math.floor(diffMS / (1000 * 60 * 60));
                    const diffDays = Math.floor(diffHours / 24);
                    
                    if (diffDays > 0) badgeText = `T-minus ${diffDays}d (D-${diffDays})`;
                    else badgeText = `T-minus ${diffHours}h (ê³§ ì‹œì‘)`;
                }

                const kstTime = formatDate(eventDate, 'Asia/Seoul');
                const utcTime = formatDate(eventDate, 'UTC');

                const html = `
                    <div class="event-card ${statusClass} type-${event.type} ${isActive ? 'active' : ''}">
                        <div class="header-row">
                            <div class="event-name">
                                ${event.titleKr}
                                <span>${event.titleEn}</span>
                            </div>
                            <div class="d-day-badge">${badgeText}</div>
                        </div>
                        <div class="time-row">
                            <div class="time-box">
                                <span class="time-label">ğŸ‡°ğŸ‡· Korea (KST)</span>
                                <span class="time-value">${kstTime}</span>
                            </div>
                            <div class="time-box">
                                <span class="time-label">ğŸŒ Global (UTC)</span>
                                <span class="time-value">${utcTime}</span>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += html;
            });
        }

        renderTimeline();
        setInterval(renderTimeline, 60000); // 1ë¶„ë§ˆë‹¤ ê°±ì‹ 
    </script>
</body>
</html>
